<html>
<head>
<title>SlidingTabsBasicFragment.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: rgb(0,0,0); font-weight: normal; font-style: normal; }
.s0 { color: rgb(0,0,128); font-weight: bold; }
.s1 { color: rgb(0,0,0); }
.s2 { color: rgb(0,0,255); }
.s3 { color: rgb(0,128,0); font-weight: bold; }
.s4 { color: rgb(128,128,128); font-style: italic; }
</style>
</head>
<BODY BGCOLOR="#ffffff">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#C0C0C0" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
SlidingTabsBasicFragment.java</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">package </span><span class="s1">com.example.android.slidingtabsbasic; 
 
</span><span class="s0">import </span><span class="s1">android.content.SharedPreferences; 
</span><span class="s0">import </span><span class="s1">android.os.Bundle; 
</span><span class="s0">import </span><span class="s1">android.preference.PreferenceManager; 
</span><span class="s0">import </span><span class="s1">android.support.v4.app.Fragment; 
</span><span class="s0">import </span><span class="s1">android.support.v4.view.PagerAdapter; 
</span><span class="s0">import </span><span class="s1">android.support.v4.view.ViewPager; 
</span><span class="s0">import </span><span class="s1">android.view.LayoutInflater; 
</span><span class="s0">import </span><span class="s1">android.view.View; 
</span><span class="s0">import </span><span class="s1">android.view.ViewGroup; 
</span><span class="s0">import </span><span class="s1">android.widget.ExpandableListView; 
</span><span class="s0">import </span><span class="s1">android.widget.ImageView; 
</span><span class="s0">import </span><span class="s1">android.widget.Toast; 
 
</span><span class="s0">import </span><span class="s1">com.example.android.common.view.SlidingTabLayout; 
 
</span><span class="s0">import </span><span class="s1">java.util.ArrayList; 
</span><span class="s0">import </span><span class="s1">java.util.Calendar; 
</span><span class="s0">import </span><span class="s1">java.util.Date; 
</span><span class="s0">import </span><span class="s1">java.util.Random; 
 
</span><span class="s0">public class </span><span class="s1">SlidingTabsBasicFragment </span><span class="s0">extends </span><span class="s1">Fragment { 
 
    </span><span class="s0">private </span><span class="s1">SlidingTabLayout mSlidingTabLayout; 
    </span><span class="s0">private </span><span class="s1">ViewPager mViewPager; 
    String title; 
    Boolean saved = </span><span class="s0">false</span><span class="s1">; 
 
    </span><span class="s0">public void </span><span class="s1">setSavedList(Boolean saved) { 
        </span><span class="s0">this</span><span class="s1">.saved = saved; 
    } 
 
    </span><span class="s0">public </span><span class="s1">Boolean getSavedList() { 
        </span><span class="s0">return </span><span class="s1">saved; 
    } 
 
    @Override 
    </span><span class="s0">public </span><span class="s1">View onCreateView(LayoutInflater inflater, ViewGroup container, 
            Bundle savedInstanceState) { 
        </span><span class="s0">return </span><span class="s1">inflater.inflate(R.layout.fragment_sample, container, </span><span class="s0">false</span><span class="s1">); 
    } 
 
    @Override 
    </span><span class="s0">public void </span><span class="s1">onViewCreated(View view, Bundle savedInstanceState) { 
        mViewPager = (ViewPager) view.findViewById(R.id.viewpager); 
        mViewPager.setAdapter(</span><span class="s0">new </span><span class="s1">SamplePagerAdapter()); 
 
        mSlidingTabLayout = (SlidingTabLayout) view.findViewById(R.id.sliding_tabs); 
        mSlidingTabLayout.setViewPager(mViewPager); 
    } 
 
    </span><span class="s0">class </span><span class="s1">SamplePagerAdapter </span><span class="s0">extends </span><span class="s1">PagerAdapter { 
 
        @Override 
        </span><span class="s0">public int </span><span class="s1">getCount() { 
            </span><span class="s0">return </span><span class="s2">7</span><span class="s1">; 
        } 
 
        @Override 
        </span><span class="s0">public boolean </span><span class="s1">isViewFromObject(View view, Object o) { 
            </span><span class="s0">return </span><span class="s1">o == view; 
        } 
 
        @Override 
        </span><span class="s0">public </span><span class="s1">CharSequence getPageTitle(</span><span class="s0">int </span><span class="s1">position) { 
 
            </span><span class="s0">switch</span><span class="s1">(position){ 
                </span><span class="s0">case </span><span class="s2">0</span><span class="s1">: title = </span><span class="s3">&quot;Featured&quot;</span><span class="s1">; 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">1</span><span class="s1">: title = </span><span class="s3">&quot;Fun&quot;</span><span class="s1">; 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">2</span><span class="s1">: title = </span><span class="s3">&quot;Food&quot;</span><span class="s1">; 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">3</span><span class="s1">: title = </span><span class="s3">&quot;Retail&quot;</span><span class="s1">; 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">4</span><span class="s1">: title = </span><span class="s3">&quot;Travel&quot;</span><span class="s1">; 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">5</span><span class="s1">: title = </span><span class="s3">&quot;Services&quot;</span><span class="s1">; 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">6</span><span class="s1">: title = </span><span class="s3">&quot;Wellness&quot;</span><span class="s1">; 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">default</span><span class="s1">:title = </span><span class="s3">&quot;Featured&quot;</span><span class="s1">; 
                    </span><span class="s0">break</span><span class="s1">; 
            } 
            </span><span class="s0">return </span><span class="s1">title; 
        } 
 
        @Override 
        </span><span class="s0">public </span><span class="s1">Object instantiateItem(ViewGroup container, </span><span class="s0">int </span><span class="s1">position) { 
            View view = getActivity().getLayoutInflater().inflate(R.layout.pager_item, container, </span><span class="s0">false</span><span class="s1">); 
 
            container.addView(view); 
            ImageView img=(ImageView) view.findViewById(R.id.catPic); 
            </span><span class="s0">switch</span><span class="s1">(position){ 
                </span><span class="s0">case </span><span class="s2">0</span><span class="s1">: 
                    img.setImageResource(R.drawable.featured); 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">1</span><span class="s1">: 
                    img.setImageResource(R.drawable.fun); 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">2</span><span class="s1">: 
                    img.setImageResource(R.drawable.food); 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">3</span><span class="s1">: 
                    img.setImageResource(R.drawable.retail); 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">4</span><span class="s1">: 
                    img.setImageResource(R.drawable.travel); 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">5</span><span class="s1">: 
                    img.setImageResource(R.drawable.services); 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">6</span><span class="s1">: 
                    img.setImageResource(R.drawable.wellness); 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">default</span><span class="s1">: 
                    img.setImageResource(R.drawable.featured); 
                    </span><span class="s0">break</span><span class="s1">; 
            } 
            </span><span class="s4">// Retrieve a TextView from the inflated View, and update it's text</span><span class="s1"> 
            ExpandableListView elv=(ExpandableListView) view.findViewById(R.id.expandableListView1); 
            </span><span class="s0">final </span><span class="s1">ArrayList&lt;Coupons&gt; Coupons=getData(position); 
 
            </span><span class="s4">//CREATE AND BIND TO ADAPTER</span><span class="s1"> 
            CustomExpandableListAdapter adapter = </span><span class="s0">new </span><span class="s1">CustomExpandableListAdapter(getActivity(), Coupons); 
            elv.setAdapter(adapter); 
 
            </span><span class="s4">//SET ONCLICK LISTENER</span><span class="s1"> 
            elv.setOnChildClickListener(</span><span class="s0">new </span><span class="s1">ExpandableListView.OnChildClickListener() { 
 
                @Override 
                </span><span class="s0">public boolean </span><span class="s1">onChildClick(ExpandableListView parent, View v, </span><span class="s0">int </span><span class="s1">groupPos, 
                                            </span><span class="s0">int </span><span class="s1">childPos, </span><span class="s0">long </span><span class="s1">id) { 
                    Toast.makeText(getContext(), Coupons.get(groupPos).deals.get(childPos), Toast.LENGTH_SHORT).show(); 
                    </span><span class="s0">return false</span><span class="s1">; 
                } 
            }); 
 
            </span><span class="s0">return </span><span class="s1">view; 
        } 
 
        @Override 
        </span><span class="s0">public void </span><span class="s1">destroyItem(ViewGroup container, </span><span class="s0">int </span><span class="s1">position, Object object) { 
            container.removeView((View) object); 
        } 
 
        </span><span class="s0">private </span><span class="s1">String getPin(){ 
            </span><span class="s0">int </span><span class="s1">pin; 
            Random r = </span><span class="s0">new </span><span class="s1">Random(); 
            pin = r.nextInt(</span><span class="s2">9999</span><span class="s1">); 
            String str = String.format(</span><span class="s3">&quot;%04d&quot;</span><span class="s1">, pin); 
 
            </span><span class="s0">return </span><span class="s1">str; 
        } 
 
        </span><span class="s0">private </span><span class="s1">ArrayList&lt;Coupons&gt; getData(</span><span class="s0">int </span><span class="s1">position) 
        { 
            SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(getActivity()); 
            SharedPreferences.Editor editor = preferences.edit();</span><span class="s4">// uses preference to hold saved coupons</span><span class="s1"> 
            </span><span class="s4">//still has issueing saving when app is closed</span><span class="s1"> 
            </span><span class="s4">//TODO GET COUPONS FROM DATABASE AND FIX SAVING OVER TO THAT</span><span class="s1"> 
 
 
            Coupons t1=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 1&quot;</span><span class="s1">); 
            t1.deals.add(</span><span class="s3">&quot;Description of coupon 1</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t1.setCategory(</span><span class="s3">&quot;Food&quot;</span><span class="s1">); 
            t1.setFeatured(</span><span class="s0">true</span><span class="s1">); 
            t1.setVoc(</span><span class="s3">&quot;0000&quot;</span><span class="s1">); 
            Calendar cal = Calendar.getInstance(); 
            cal.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal.set(Calendar.MONTH, Calendar.JANUARY); 
            cal.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date = cal.getTime(); 
            t1.setExpire(date); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t1.getName(), </span><span class="s0">false</span><span class="s1">)) {</span><span class="s4">//adds save value to shared pref if not already there</span><span class="s1"> 
                editor.putBoolean(t1.getName(), t1.isSaved()); 
                editor.apply(); 
            } 
            Boolean saved = preferences.getBoolean(t1.getName(), </span><span class="s0">false</span><span class="s1">);</span><span class="s4">//sets the save to whatever is in pref</span><span class="s1"> 
            t1.setSaved(saved); 
 
            Coupons t2=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 2&quot;</span><span class="s1">); 
            t2.deals.add(</span><span class="s3">&quot;Description of coupon 2</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t2.setCategory(</span><span class="s3">&quot;Retail&quot;</span><span class="s1">); 
            t2.setFeatured(</span><span class="s0">false</span><span class="s1">); 
            t2.setVoc(</span><span class="s3">&quot;0380&quot;</span><span class="s1">); 
            Calendar cal2 = Calendar.getInstance(); 
            cal2.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal2.set(Calendar.MONTH, Calendar.JANUARY); 
            cal2.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date2 = cal2.getTime(); 
            t2.setExpire(date2); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t2.getName(), </span><span class="s0">false</span><span class="s1">)) { 
                editor.putBoolean(t2.getName(), t2.isSaved()); 
                editor.apply(); 
            } 
            saved = preferences.getBoolean(t2.getName(), </span><span class="s0">false</span><span class="s1">); 
            t2.setSaved(saved); 
 
            Coupons t3=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 3&quot;</span><span class="s1">); 
            t3.deals.add(</span><span class="s3">&quot;Description of coupon 3</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t3.setCategory(</span><span class="s3">&quot;Fun&quot;</span><span class="s1">); 
            t3.setFeatured(</span><span class="s0">true</span><span class="s1">); 
            t3.setVoc(</span><span class="s3">&quot;1238&quot;</span><span class="s1">); 
            Calendar cal3 = Calendar.getInstance(); 
            cal3.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal3.set(Calendar.MONTH, Calendar.JANUARY); 
            cal3.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date3 = cal3.getTime(); 
            t3.setExpire(date3); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t3.getName(), </span><span class="s0">false</span><span class="s1">)) { 
                editor.putBoolean(t3.getName(), t3.isSaved()); 
                editor.apply(); 
            } 
            saved = preferences.getBoolean(t3.getName(), </span><span class="s0">false</span><span class="s1">); 
            t3.setSaved(saved); 
 
            Coupons t4=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 4&quot;</span><span class="s1">); 
            t4.deals.add(</span><span class="s3">&quot;Description of coupon 4</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t4.setCategory(</span><span class="s3">&quot;Travel&quot;</span><span class="s1">); 
            t4.setFeatured(</span><span class="s0">false</span><span class="s1">); 
            t4.setVoc(</span><span class="s3">&quot;9237&quot;</span><span class="s1">); 
            Calendar cal4 = Calendar.getInstance(); 
            cal4.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal4.set(Calendar.MONTH, Calendar.JANUARY); 
            cal4.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date4 = cal4.getTime(); 
            t4.setExpire(date4); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t4.getName(), </span><span class="s0">false</span><span class="s1">)) { 
                editor.putBoolean(t4.getName(), t4.isSaved()); 
                editor.apply(); 
            } 
            saved = preferences.getBoolean(t4.getName(), </span><span class="s0">false</span><span class="s1">); 
            t4.setSaved(saved); 
 
            Coupons t5=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 5&quot;</span><span class="s1">); 
            t5.deals.add(</span><span class="s3">&quot;Description of coupon 5</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t5.setCategory(</span><span class="s3">&quot;Wellness&quot;</span><span class="s1">); 
            t5.setFeatured(</span><span class="s0">true</span><span class="s1">); 
            t5.setVoc(</span><span class="s3">&quot;7831&quot;</span><span class="s1">); 
            Calendar cal5 = Calendar.getInstance(); 
            cal5.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal5.set(Calendar.MONTH, Calendar.JANUARY); 
            cal5.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date5 = cal5.getTime(); 
            t5.setExpire(date5); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t5.getName(), </span><span class="s0">false</span><span class="s1">)) { 
                editor.putBoolean(t5.getName(), t5.isSaved()); 
                editor.apply(); 
            } 
            saved = preferences.getBoolean(t5.getName(), </span><span class="s0">false</span><span class="s1">); 
            t5.setSaved(saved); 
 
            Coupons t6=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 6&quot;</span><span class="s1">); 
            t6.deals.add(</span><span class="s3">&quot;Description of coupon 6</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t6.setCategory(</span><span class="s3">&quot;Travel&quot;</span><span class="s1">); 
            t6.setFeatured(</span><span class="s0">true</span><span class="s1">); 
            t6.setVoc(</span><span class="s3">&quot;6767&quot;</span><span class="s1">); 
            Calendar cal6 = Calendar.getInstance(); 
            cal6.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal6.set(Calendar.MONTH, Calendar.JANUARY); 
            cal6.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date6 = cal6.getTime(); 
            t6.setExpire(date6); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t6.getName(), </span><span class="s0">false</span><span class="s1">)) { 
                editor.putBoolean(t6.getName(), t6.isSaved()); 
                editor.apply(); 
            } 
            saved = preferences.getBoolean(t6.getName(), </span><span class="s0">false</span><span class="s1">); 
            t6.setSaved(saved); 
 
            Coupons t7=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 7&quot;</span><span class="s1">); 
            t7.deals.add(</span><span class="s3">&quot;Description of coupon 7</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t7.setCategory(</span><span class="s3">&quot;Wellness&quot;</span><span class="s1">); 
            t7.setFeatured(</span><span class="s0">false</span><span class="s1">); 
            t7.setVoc(</span><span class="s3">&quot;8567&quot;</span><span class="s1">); 
            Calendar cal7 = Calendar.getInstance(); 
            cal7.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal7.set(Calendar.MONTH, Calendar.JANUARY); 
            cal7.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date7 = cal7.getTime(); 
            t7.setExpire(date7); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t7.getName(), </span><span class="s0">false</span><span class="s1">)) { 
                editor.putBoolean(t7.getName(), t7.isSaved()); 
                editor.apply(); 
            } 
            saved = preferences.getBoolean(t7.getName(), </span><span class="s0">false</span><span class="s1">); 
            t7.setSaved(saved); 
 
            Coupons t8=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 8&quot;</span><span class="s1">); 
            t8.deals.add(</span><span class="s3">&quot;Description of coupon 8</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t8.setCategory(</span><span class="s3">&quot;Food&quot;</span><span class="s1">); 
            t8.setFeatured(</span><span class="s0">false</span><span class="s1">); 
            t8.setVoc(</span><span class="s3">&quot;2680&quot;</span><span class="s1">); 
            Calendar cal8 = Calendar.getInstance(); 
            cal8.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal8.set(Calendar.MONTH, Calendar.JANUARY); 
            cal8.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date8 = cal8.getTime(); 
            t8.setExpire(date8); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t8.getName(), </span><span class="s0">false</span><span class="s1">)) { 
                editor.putBoolean(t8.getName(), t8.isSaved()); 
                editor.apply(); 
            } 
            saved = preferences.getBoolean(t8.getName(), </span><span class="s0">false</span><span class="s1">); 
            t8.setSaved(saved); 
 
            Coupons t9=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 9&quot;</span><span class="s1">); 
            t9.deals.add(</span><span class="s3">&quot;Description of coupon 9</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t9.setCategory(</span><span class="s3">&quot;Retail&quot;</span><span class="s1">); 
            t9.setFeatured(</span><span class="s0">true</span><span class="s1">); 
            t9.setVoc(</span><span class="s3">&quot;7777&quot;</span><span class="s1">); 
            Calendar cal9 = Calendar.getInstance(); 
            cal9.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal9.set(Calendar.MONTH, Calendar.JANUARY); 
            cal9.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date9 = cal9.getTime(); 
            t9.setExpire(date9); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t9.getName(), </span><span class="s0">false</span><span class="s1">)) { 
                editor.putBoolean(t9.getName(), t9.isSaved()); 
                editor.apply(); 
            } 
            saved = preferences.getBoolean(t9.getName(), </span><span class="s0">false</span><span class="s1">); 
            t9.setSaved(saved); 
 
            Coupons t10=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 10&quot;</span><span class="s1">); 
            t10.deals.add(</span><span class="s3">&quot;Description of coupon 10</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t10.setCategory(</span><span class="s3">&quot;Food&quot;</span><span class="s1">); 
            t10.setFeatured(</span><span class="s0">false</span><span class="s1">); 
            t10.setVoc(</span><span class="s3">&quot;1010&quot;</span><span class="s1">); 
            Calendar cal10 = Calendar.getInstance(); 
            cal10.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal10.set(Calendar.MONTH, Calendar.JANUARY); 
            cal10.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date10 = cal10.getTime(); 
            t10.setExpire(date10); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t10.getName(), </span><span class="s0">false</span><span class="s1">)) { 
                editor.putBoolean(t10.getName(), t10.isSaved()); 
                editor.apply(); 
            } 
            saved = preferences.getBoolean(t10.getName(), </span><span class="s0">false</span><span class="s1">); 
            t10.setSaved(saved); 
 
            Coupons t11=</span><span class="s0">new </span><span class="s1">Coupons(</span><span class="s3">&quot;Coupon 11&quot;</span><span class="s1">); 
            t11.deals.add(</span><span class="s3">&quot;Description of coupon 11</span><span class="s0">\n</span><span class="s3">&quot;</span><span class="s1">); 
            t11.setCategory(</span><span class="s3">&quot;Fun&quot;</span><span class="s1">); 
            t11.setFeatured(</span><span class="s0">false</span><span class="s1">); 
            t11.setVoc(</span><span class="s3">&quot;7510&quot;</span><span class="s1">); 
            Calendar cal11 = Calendar.getInstance(); 
            cal11.set(Calendar.YEAR, </span><span class="s2">2017</span><span class="s1">); 
            cal11.set(Calendar.MONTH, Calendar.JANUARY); 
            cal11.set(Calendar.DAY_OF_MONTH, </span><span class="s2">1</span><span class="s1">); 
            Date date11 = cal11.getTime(); 
            t11.setExpire(date11); 
            </span><span class="s0">if</span><span class="s1">(!preferences.getBoolean(t11.getName(), </span><span class="s0">false</span><span class="s1">)) { 
                editor.putBoolean(t11.getName(), t11.isSaved()); 
                editor.apply(); 
            } 
            saved = preferences.getBoolean(t11.getName(), </span><span class="s0">false</span><span class="s1">); 
            t11.setSaved(saved); 
 
            ArrayList&lt;Coupons&gt; allCoupons=</span><span class="s0">new </span><span class="s1">ArrayList&lt;Coupons&gt;(); 
            allCoupons.add(t1); 
            allCoupons.add(t2); 
            allCoupons.add(t3); 
            allCoupons.add(t4); 
            allCoupons.add(t5); 
            allCoupons.add(t6); 
            allCoupons.add(t7); 
            allCoupons.add(t8); 
            allCoupons.add(t9); 
            allCoupons.add(t10); 
            allCoupons.add(t11); 
 
            </span><span class="s0">if</span><span class="s1">(getSavedList()){</span><span class="s4">//TODO use new array list of saved coupons</span><span class="s1"> 
                </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i =allCoupons.size()-</span><span class="s2">1</span><span class="s1">; i&gt;=</span><span class="s2">0</span><span class="s1">; i--){ 
                    saved = preferences.getBoolean(allCoupons.get(i).getName(), </span><span class="s0">false</span><span class="s1">); 
                    </span><span class="s0">if</span><span class="s1">(!saved) 
                        allCoupons.remove(i); 
                } 
            } 
 
            </span><span class="s0">switch</span><span class="s1">(position){ 
                </span><span class="s0">case </span><span class="s2">0</span><span class="s1">: 
                    </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i =allCoupons.size()-</span><span class="s2">1</span><span class="s1">; i&gt;=</span><span class="s2">0</span><span class="s1">; i--){ 
                        </span><span class="s0">if</span><span class="s1">(!allCoupons.get(i).isFeatured()) 
                            allCoupons.remove(i); 
                    } 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">1</span><span class="s1">: 
                    </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i =allCoupons.size()-</span><span class="s2">1</span><span class="s1">; i&gt;=</span><span class="s2">0</span><span class="s1">; i--){ 
                        </span><span class="s0">if</span><span class="s1">(!allCoupons.get(i).getCategory().equals(</span><span class="s3">&quot;Fun&quot;</span><span class="s1">)) 
                            allCoupons.remove(i); 
                    } 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">2</span><span class="s1">: 
                    </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i =allCoupons.size()-</span><span class="s2">1</span><span class="s1">; i&gt;=</span><span class="s2">0</span><span class="s1">; i--){ 
                        </span><span class="s0">if</span><span class="s1">(!allCoupons.get(i).getCategory().equals(</span><span class="s3">&quot;Food&quot;</span><span class="s1">)) 
                            allCoupons.remove(i); 
                    } 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">3</span><span class="s1">: 
                    </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i =allCoupons.size()-</span><span class="s2">1</span><span class="s1">; i&gt;=</span><span class="s2">0</span><span class="s1">; i--){ 
                        </span><span class="s0">if</span><span class="s1">(!allCoupons.get(i).getCategory().equals(</span><span class="s3">&quot;Retail&quot;</span><span class="s1">)) 
                            allCoupons.remove(i); 
                    } 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">4</span><span class="s1">: 
                    </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i =allCoupons.size()-</span><span class="s2">1</span><span class="s1">; i&gt;=</span><span class="s2">0</span><span class="s1">; i--){ 
                    </span><span class="s0">if</span><span class="s1">(!allCoupons.get(i).getCategory().equals(</span><span class="s3">&quot;Travel&quot;</span><span class="s1">)) 
                        allCoupons.remove(i); 
                    } 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">5</span><span class="s1">: 
                    </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i =allCoupons.size()-</span><span class="s2">1</span><span class="s1">; i&gt;=</span><span class="s2">0</span><span class="s1">; i--){ 
                        </span><span class="s0">if</span><span class="s1">(!allCoupons.get(i).getCategory().equals(</span><span class="s3">&quot;Services&quot;</span><span class="s1">)) 
                        allCoupons.remove(i); 
                    } 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">case </span><span class="s2">6</span><span class="s1">: 
                    </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i =allCoupons.size()-</span><span class="s2">1</span><span class="s1">; i&gt;=</span><span class="s2">0</span><span class="s1">; i--){ 
                        </span><span class="s0">if</span><span class="s1">(!allCoupons.get(i).getCategory().equals(</span><span class="s3">&quot;Wellness&quot;</span><span class="s1">)) 
                            allCoupons.remove(i); 
                    } 
                    </span><span class="s0">break</span><span class="s1">; 
                </span><span class="s0">default</span><span class="s1">: 
                    </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i =allCoupons.size()-</span><span class="s2">1</span><span class="s1">; i&gt;=</span><span class="s2">0</span><span class="s1">; i--){ 
                        </span><span class="s0">if</span><span class="s1">(!allCoupons.get(i).isFeatured()) 
                            allCoupons.remove(i); 
                    } 
                    </span><span class="s0">break</span><span class="s1">; 
            } 
            </span><span class="s0">return </span><span class="s1">allCoupons; 
        } 
 
        </span><span class="s0">private </span><span class="s1">ArrayList&lt;Coupons&gt; saving(ArrayList&lt;Coupons&gt; coupons) 
        { 
            ArrayList&lt;Coupons&gt; savedCoupons=</span><span class="s0">new </span><span class="s1">ArrayList&lt;Coupons&gt;(); 
            </span><span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i =coupons.size()-</span><span class="s2">1</span><span class="s1">; i&gt;=</span><span class="s2">0</span><span class="s1">; i--){ 
                </span><span class="s0">if</span><span class="s1">(coupons.get(i).isSaved()) 
                    savedCoupons.add(coupons.get(i)); 
            } 
            </span><span class="s0">return </span><span class="s1">savedCoupons; 
        } 
 
    } 
}</span></pre>
</body>
</html>